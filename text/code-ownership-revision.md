---
Feature Name: Code Ownership Revision
Start Date: 2020-01-06
RFC PR:
Related Issue:
Note: This presents a little slightly different type of problem than a code-change RFC, so I have tried to hit all the points in the RFC template with a slightly different structure
---

# Area CODEOWNERship

## Summary
This RFC proposes revising the Code Ownership matrix based on a balancing formula in order to balance effort between team members and improve response time/quality.

#### Motivations/Reasoning
The response time and amount of time spent on issues and PRs has improved over the last year, especially with the beginning of utilizing the Code Ownership concept with greater depth. However, the current code ownership is not scalable and still leaves a largely unbalanced set of work for owners.
A revised/repeatable system that accounts for the actual effort required to own an area could:
- Reduce individual effort required to be spent on issues/prs
- Improve response times for a better customer experience
- Lead to less tribal knowledge held by individual team members


## Criteria
| Category                | Weight        |
| ----------------------- | ------------- |
| __Effort Criteria__     |               |
| # P0 Bugs*              | `x`           |
| # Total Bugs*           | `x`           |
| # Feature Requests*     | `x`           |
| # Pull Requests*        | `x`           |
|                         |               |
| __Other Criteria__      |               |
| Different from Others** | `k`           |
| Wants                   | `w`           |
| Doesnt Want             | `elimination` |

_* __NOTE:__ All values are based on 6-month (duration of regular labeling) period weekly average denoted by `x` AND include "child areas"***_

_** __NOTE:__ To increase surface area of knowledge. Whoever owns `aws-dynamodb` should not also own `aws-documentdb`. Based on "Category" table

_*** __NOTE:__ "Child Areas" refer to code areas like `aws-s3-assets` that are dependent on other code areas_


# Process
1. Get list of areas to own (child areas nested under parents)
2. Assign required code areas to designated asignees
3. Sum weighted metrics for each area based on label to get "total effort"
4. Sort by "total effort"
5. Start owner "effort" values to 0 (excluding owners with static ownership)
6. _For each area_
  a. Eliminate owners based on elimination criteria
  b. Assign area to owner with lowest effort delta (including "wants" and "dissimilarity values") with priority placed on those with selected in "wants"
  
### Reasoning
This process will naturally end up with a minimal difference in calculated effort between code owners and can easily be scaled as the team size changes.
It can be improved on by setting different weights to codeowners based on expected effort potential (based on experience).

### Categories
| Administration              | Alexa              | Auto Scaling                         | Backend             | Big Data                      | Blockchain                     | Blockchain        | Build                     | Caching                  | CI/CD                 | CLI                          | Code Suite                         | Compute                       | Containers                    | Core                 | Database              | Deprecated                               | DNS                           | Documentation           | EC2                                         | Elemental                 | Email                      | Framework                   | IoT                         | jsii                                | Kubernetes       | L1               | Machine Learning         | Messaging                      | Mobile               | Monitoring                      | Prototypes | Secrets                         | Security                    | Serverless                        | Storage                       | Testing         | Tooling                           | Windows                       |
|-----------------------------|--------------------|--------------------------------------|---------------------|-------------------------------|--------------------------------|-------------------|---------------------------|--------------------------|-----------------------|------------------------------|------------------------------------|-------------------------------|-------------------------------|----------------------|-----------------------|------------------------------------------|-------------------------------|-------------------------|---------------------------------------------|---------------------------|----------------------------|-----------------------------|-----------------------------|-------------------------------------|------------------|------------------|--------------------------|--------------------------------|----------------------|---------------------------------|------------|---------------------------------|-----------------------------|-----------------------------------|-------------------------------|-----------------|-----------------------------------|-------------------------------|
| @aws-cdk/aws-backup         | @aws-cdk/alexa-ask | @aws-cdk/aws-applicationautoscaling  | CFN Metata Resource | @aws-cdk/aws-athena           | @aws-cdk/aws-managedblockchain | @aws-cdk/aws-qldb | awslint (PRIVATE)         | @aws-cdk/aws-elasticache | @aws-cdk/app-delivery | @aws-cdk/cloudformation-diff | @aws-cdk/aws-cloud9                | @aws-cdk/aws-elasticbeanstalk | @aws-cdk/aws-appmesh          | @aws-cdk/cfnspec     | @aws-cdk/aws-dax      | @aws-cdk/applet-js                       | @aws-cdk/aws-route53          | API Reference Generator | @aws-cdk/aws-ec2                            | @aws-cdk/aws-mediaconvert | @aws-cdk/aws-pinpoint      | @aws-cdk/assets             | @aws-cdk/aws-greengrass     | Kernel                              | @aws-cdk/aws-eks | cfn2ts (PRIVATE) | @aws-cdk/aws-personalize | @aws-cdk/aws-amazonmq          | @aws-cdk/aws-amplify | @aws-cdk/aws-cloudtrail         | cdk-dasm   | @aws-cdk/aws-certificatemanager | @aws-cdk/aws-accessanalyzer | @aws-cdk/aws-apigateway           | @aws-cdk/aws-cloudfront       | @aws-cdk/assert | App Construction / IDE Experience | @aws-cdk/aws-appstream        |
| @aws-cdk/aws-budgets        |                    | @aws-cdk/aws-autoscaling             |                     | @aws-cdk/aws-batch            |                                |                   | cdk-build-tools (PRIVATE) |                          | delivlib              |                              | @aws-cdk/aws-codebuild             | @aws-cdk/aws-gamelift         | @aws-cdk/aws-ecr              | @aws-cdk/core        | @aws-cdk/aws-dlm      | @aws-cdk/aws-cloudformation-codepipeline | @aws-cdk/aws-route53-patterns | aws-cdk-examples repo   | @aws-cdk/aws-efs                            | @aws-cdk/aws-medialive    | @aws-cdk/aws-pinpointemail | @aws-cdk/assets-docker      | @aws-cdk/aws-iot            | Python                              |                  |                  | @aws-cdk/aws-robomaker   | @aws-cdk/aws-sns               | @aws-cdk/aws-appsync | @aws-cdk/aws-cloudwatch         | decdk      | @aws-cdk/aws-kms                | @aws-cdk/aws-guardduty      | @aws-cdk/aws-cognito              | @aws-cdk/aws-s3               |                 | CDK CLI                           | @aws-cdk/aws-directoryservice |
| @aws-cdk/aws-cloudformation |                    | @aws-cdk/aws-autoscaling-api         |                     | @aws-cdk/aws-datapipeline     |                                |                   | cdk-integ-tools (PRIVATE) |                          |                       |                              | @aws-cdk/aws-codecommit            |                               | @aws-cdk/aws-ecr-assets       | @aws-cdk/cx-api      | @aws-cdk/aws-dms      | @aws-cdk/aws-codebuild-codepipeline      | @aws-cdk/aws-route53-targets  | Developer Guide         | @aws-cdk/aws-elasticloadbalancing           | @aws-cdk/aws-mediastore   | @aws-cdk/aws-ses           | @aws-cdk/custom-resources   | @aws-cdk/aws-iot1click      | Java                                |                  |                  | @aws-cdk/aws-sagemaker   | @aws-cdk/aws-sns-subscriptions |                      | @aws-cdk/aws-cloudwatch-actions |            | @aws-cdk/aws-secretsmanager     | @aws-cdk/aws-iam            | @aws-cdk/aws-lambda               | @aws-cdk/aws-s3-assets        |                 |                                   | @aws-cdk/aws-workspaces       |
|                             |                    | @aws-cdk/aws-autoscaling-common      |                     | @aws-cdk/aws-docdb            |                                |                   | pkglint (PRIVATE)         |                          |                       |                              | @aws-cdk/aws-codedeploy            |                               | @aws-cdk/aws-ecs              | @aws-cdk/region-info | @aws-cdk/aws-neptune  | @aws-cdk/aws-codecommit-codepipeline     | @aws-cdk/aws-route53resolver  | Workshop                | @aws-cdk/aws-elasticloadbalancingv2         |                           | @aws-cdk/aws-ses-actions   | Framework (assets, aspects) | @aws-cdk/aws-iotanalytics   | .NET                                |                  |                  |                          | @aws-cdk/aws-sqs               |                      | @aws-cdk/aws-events             |            |                                 | @aws-cdk/aws-inspector      | @aws-cdk/aws-lambda-event-sources | @aws-cdk/aws-s3-deployment    |                 |                                   |                               |
| @aws-cdk/aws-config         |                    | @aws-cdk/aws-autoscaling-hooktargets |                     | @aws-cdk/aws-dynamodb         |                                |                   | pkgtools (PRIVATE)        |                          |                       |                              | @aws-cdk/aws-codepipeline          |                               | @aws-cdk/aws-ecs-patterns     |                      | @aws-cdk/aws-rds      | @aws-cdk/aws-codedeploy-api              |                               |                         | @aws-cdk/aws-elasticloadbalancingv2-targets |                           |                            |                             | @aws-cdk/aws-iotevents      | Tools                               |                  |                  |                          |                                |                      | @aws-cdk/aws-events-targets     |            |                                 |                             | @aws-cdk/aws-sam                  | @aws-cdk/aws-s3-notifications |                 |                                   |                               |
| @aws-cdk/aws-opsworks       |                    | @aws-cdk/aws-autoscalingplans        |                     | @aws-cdk/aws-dynamodb-global  |                                |                   |                           |                          |                       |                              | @aws-cdk/aws-codepipeline-actions  |                               | @aws-cdk/aws-servicediscovery |                      | @aws-cdk/aws-redshift | @aws-cdk/aws-codepipeline-               |                               |                         | @aws-cdk/aws-fsx                            |                           |                            |                             | @aws-cdk/aws-iotthingsgraph | Compiler                            |                  |                  |                          |                                |                      | @aws-cdk/aws-logs               |            |                                 |                             | @aws-cdk/aws-stepfunctions        | @aws-cdk/aws-transfer         |                 |                                   |                               |
| @aws-cdk/aws-opsworkscm     |                    |                                      |                     | @aws-cdk/aws-elasticsearch    |                                |                   |                           |                          |                       |                              | @aws-cdk/aws-codestar              |                               |                               |                      | @aws-cdk/aws-sdb      | @aws-cdk/aws-codepipeline-api            |                               |                         |                                             |                           |                            |                             |                             | Language Bindings / Code Generation |                  |                  |                          |                                |                      | @aws-cdk/aws-logs-destinations  |            |                                 |                             | @aws-cdk/aws-stepfunctions-tasks  |                               |                 |                                   |                               |
| @aws-cdk/aws-ram            |                    |                                      |                     | @aws-cdk/aws-emr              |                                |                   |                           |                          |                       |                              | @aws-cdk/aws-codestarnotifications |                               |                               |                      |                       | @aws-cdk/aws-codepipeline-glue           |                               |                         |                                             |                           |                            |                             |                             | SuperChain                          |                  |                  |                          |                                |                      | @aws-cdk/aws-securityhub        |            |                                 |                             | @aws-cdk/aws-waf                  |                               |                 |                                   |                               |
| @aws-cdk/aws-servicecatalog |                    |                                      |                     | @aws-cdk/aws-glue             |                                |                   |                           |                          |                       |                              |                                    |                               |                               |                      |                       | @aws-cdk/aws-nodejs-layer                |                               |                         |                                             |                           |                            |                             |                             |                                     |                  |                  |                          |                                |                      |                                 |            |                                 |                             | @aws-cdk/aws-wafregional          |                               |                 |                                   |                               |
| @aws-cdk/aws-ssm            |                    |                                      |                     | @aws-cdk/aws-kinesis          |                                |                   |                           |                          |                       |                              |                                    |                               |                               |                      |                       | @aws-cdk/aws-quickstarts                 |                               |                         |                                             |                           |                            |                             |                             |                                     |                  |                  |                          |                                |                      |                                 |            |                                 |                             | @aws-cdk/aws-wafv2                |                               |                 |                                   |                               |
|                             |                    |                                      |                     | @aws-cdk/aws-kinesisanalytics |                                |                   |                           |                          |                       |                              |                                    |                               |                               |                      |                       | @aws-cdk/aws-serverless                  |                               |                         |                                             |                           |                            |                             |                             |                                     |                  |                  |                          |                                |                      |                                 |            |                                 |                             |                                   |                               |                 |                                   |                               |
|                             |                    |                                      |                     | @aws-cdk/aws-kinesisfirehose  |                                |                   |                           |                          |                       |                              |                                    |                               |                               |                      |                       | @aws-cdk/runtime-values                  |                               |                         |                                             |                           |                            |                             |                             |                                     |                  |                  |                          |                                |                      |                                 |            |                                 |                             |                                   |                               |                 |                                   |                               |
|                             |                    |                                      |                     | @aws-cdk/aws-lakeformation    |                                |                   |                           |                          |                       |                              |                                    |                               |                               |                      |                       | simple-resource-bundler                  |                               |                         |                                             |                           |                            |                             |                             |                                     |                  |                  |                          |                                |                      |                                 |            |                                 |                             |                                   |                               |                 |                                   |                               |
|                             |                    |                                      |                     | @aws-cdk/aws-msk              |                                |                   |                           |                          |                       |                              |                                    |                               |                               |                      |                       |                                          |                               |                         |                                             |                           |                            |                             |                             |                                     |                  |                  |                          |                                |                      |                                 |            |                                 |                             |                                   |                               |                 |                                   |                               |

### Desire
| Elad*            | Neta          | Romain         | Niranjan   | Rico        | Mitch         | Adam             | Shiv | Eli |
| ---------------- | ------------- | -------------- | ---------- | ----------- | ------------- | ---------------- | ---- | --- |
| cfnspec          | __Messaging__ | jsii...*       | Serverless | iam         | jsii...*      | code*            |      |     |
| core             | sns           | cloudformation |            | autoscaling | stepfunctions | elasticbeanstalk |      |     |
| cx-api           | elb           | dynamodb       | _alexa_    | cloudwatch  | lambda        |                  |      |     |
| custom-resources | swf           | dax            | _waf_      | cfninit     | cloudfront    | _datapipeline_   |      |     |
| __Framework__    | __Sto/BigDt__ |                |            |  ec2        | appsync       | _efs_            |      |     |
| assets           | dynamodb      | _"Enterprise"_ |            |             | codesuite     | _fsx_            |      |     |
| eks              | elasticsearch | _redshift_     |            | _elb_       |               | _sb_             |      |     |
| cdk-dasm         | s3*           | _assert_       |            | _vpc_       | _Databases_   | _opsworks_       |      |     |
| cfn2ts           |               | _code*_        |            |             | _Networking_  |                  |      |     |
| decdk            | _IOT_         | _iot_          |            |             | _ses_         |                  |      |     |

.* = Set Assignment
_italics_ = DON'T want
 
## Resources
- [SQLite](https://sqlitebrowser.org/)
- [GH to SQLite](https://github.com/dogsheep/github-to-sqlite)

#### Setup
``` bash
pip3 install github-to-sqlite;
github-to-sqlite auth;

github-to-sqlite issues github.db aws/aws-cdk;
github-to-sqlite issues github.db aws/jsii;
github-to-sqlite pulls github.db aws/aws-cdk;
github-to-sqlite pulls github.db aws/aws-cdk
```

# Timeframe
Once feedback is in for all potential owners on desired areas as well as feedback on weighting of criteria, a list can be generated within the week and submitted for approval. 
